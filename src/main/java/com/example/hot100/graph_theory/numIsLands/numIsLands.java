package com.example.hot100.graph_theory.numIsLands;

import java.util.ArrayList;
import java.util.List;

public class numIsLands {
    //200. å²›å±¿æ•°é‡
    //ä¸­ç­‰
    //ç›¸å…³æ ‡ç­¾
    //ç›¸å…³ä¼ä¸š
    //ç»™ä½ ä¸€ä¸ªç”± '1'ï¼ˆé™†åœ°ï¼‰å’Œ '0'ï¼ˆæ°´ï¼‰ç»„æˆçš„çš„äºŒç»´ç½‘æ ¼ï¼Œè¯·ä½ è®¡ç®—ç½‘æ ¼ä¸­å²›å±¿çš„æ•°é‡ã€‚
    //
    //å²›å±¿æ€»æ˜¯è¢«æ°´åŒ…å›´ï¼Œå¹¶ä¸”æ¯åº§å²›å±¿åªèƒ½ç”±æ°´å¹³æ–¹å‘å’Œ/æˆ–ç«–ç›´æ–¹å‘ä¸Šç›¸é‚»çš„é™†åœ°è¿æ¥å½¢æˆã€‚
    //
    //æ­¤å¤–ï¼Œä½ å¯ä»¥å‡è®¾è¯¥ç½‘æ ¼çš„å››æ¡è¾¹å‡è¢«æ°´åŒ…å›´ã€‚
    //
    //
    //
    //ç¤ºä¾‹ 1ï¼š
    //
    //è¾“å…¥ï¼šgrid = [
    //  ["1","1","1","1","0"],
    //  ["1","1","0","1","0"],
    //  ["1","1","0","0","0"],
    //  ["0","0","0","0","0"]
    //]
    //è¾“å‡ºï¼š1
    //ç¤ºä¾‹ 2ï¼š
    //
    //è¾“å…¥ï¼šgrid = [
    //  ["1","1","0","0","0"],
    //  ["1","1","0","0","0"],
    //  ["0","0","1","0","0"],
    //  ["0","0","0","1","1"]
    //]
    //è¾“å‡ºï¼š3
    //
    //
    //æç¤ºï¼š
    //
    //m == grid.length
    //n == grid[i].length
    //1 <= m, n <= 300
    //grid[i][j] çš„å€¼ä¸º '0' æˆ– '1'

    //æ€è·¯ï¼šåˆ›å»ºåˆ—è¡¨ï¼Œéå†çŸ©é˜µï¼Œå°†1åŠ å…¥åˆ—è¡¨ï¼Œéå†åˆ—è¡¨åŠåˆ—è¡¨çš„å››ä¸ªæ–¹å‘ã€‚å¦‚æœå€¼ä¸º1ï¼Œåˆ™å°†è¯¥å€¼æ”¹ä¸º2ï¼Œå¹¶åŠ å…¥åˆ—è¡¨ã€‚
    //é”™äº†ã€‚åé¢è®¡ç®—è·Ÿä¸ä¸Šæ€è·¯äº†ã€‚å…¶å®åº”è¯¥ç”¨dfsé€’å½’å®ç°ã€‚æŒ‰ç…§ç­”æ¡ˆå†å†™ä¸€éã€‚
//    private static final int[][] dirs = {{-1, 0}, {1, 0}, {0, -1}, {0, 1}};
//    public static int numIslands(char[][] grid) {
//
//        int count = 0;
//        List<int[]> list = new ArrayList<>();
//        for(int i = 0; i < grid.length; i++){
//            for (int j = 0; j < grid[i].length; j++) {
//                if(grid[i][j] == '1'){
//                    list.add(new int[]{i, j});
//                }
//            }
//        }
//        List<int[]> q = list;
//        while (!q.isEmpty()) {
//            for(int[] land : list){
//                for(int[] dir : dirs) {
//                    int i = land[0] + dir[0];
//                    int j = land[1] + dir[1];
//                    if(i >= 0  && i < grid.length && j >= 0 && j < grid[i].length && grid[i][j] == '1'){
//                        grid[i][j] = '2';
//                        q.remove(grid[i][j]);
//                    }
//                }
//            }
//            count++;
//        }
//
//        return count;
//    }
    public static int numIslands(char[][] grid) {
        //å‡è®¾ä½ æ˜¯å“¥ä¼¦å¸ƒã€‚å…ˆä»å·¦ä¸Šè§’å¼€å§‹ï¼ŒæŠŠç¬¬ä¸€ä¸ªå²›å…¨éƒ¨æ’ä¸Šæ——å­ğŸš©ï¼Œè¿™é‡Œç”¨ 2 è¡¨ç¤ºã€‚æ’æ»¡æ——å­åï¼ŒæŠŠç­”æ¡ˆï¼ˆå²›å±¿ä¸ªæ•°ï¼‰åŠ ä¸€ã€‚
        //
        //âš æ³¨æ„ï¼šåœ¨å²›ä¸Šï¼Œä½ åªèƒ½ä¸Šä¸‹å·¦å³èµ°ï¼Œä¸èƒ½æ–œæ–¹å‘èµ°ã€‚
        //
        //2 2 0 0 0
        //2 2 0 0 0
        //0 0 1 0 0
        //0 0 0 1 1
        //ç»§ç»­éå†ï¼Œå¯»æ‰¾å…¶ä»–çš„å²›å±¿ï¼Œä¹Ÿå°±æ˜¯ 1ã€‚æ‰¾åˆ° 1 æ„å‘³ç€å‘ç°äº†ä¸€ä¸ªæ–°çš„å²›ï¼Œç»§ç»­æ’ä¸Šæ——å­ğŸš©ï¼ŒæŠŠç­”æ¡ˆåŠ ä¸€ã€‚
        //
        //2 2 0 0 0
        //2 2 0 0 0
        //0 0 2 0 0
        //0 0 0 1 1
        //ç»§ç»­éå†ï¼Œå¯»æ‰¾å…¶ä»–çš„å²›å±¿ã€‚æ‰¾åˆ° 1 æ„å‘³ç€å‘ç°äº†ä¸€ä¸ªæ–°çš„å²›ï¼Œæ’æ»¡æ——å­ğŸš©ï¼ŒæŠŠç­”æ¡ˆåŠ ä¸€ã€‚
        //
        //2 2 0 0 0
        //2 2 0 0 0
        //0 0 2 0 0
        //0 0 0 2 2
        //å¦‚æœæ²¡æœ‰ 1 äº†ï¼Œç®—æ³•å°±ç»“æŸäº†ï¼Œè¿”å›ç­”æ¡ˆã€‚
        //


        int count = 0;
        for(int i = 0; i < grid.length; i++){
            for (int j = 0; j < grid[i].length; j++) {
                if(grid[i][j] == '1'){
                    dfs(grid,i, j);
                    count++;
                }
            }
        }
        return count;
    }
    public static void dfs(char[][] grid, int i, int j){
        if(i < 0 || i >=grid.length || j < 0 || j >= grid[i].length || grid[i][j] != '1') {
            return;
        }
        grid[i][j] = '2';
        //å·¦
        dfs(grid,i,j - 1);
        //å³
        dfs(grid,i,j + 1);
        //ä¸Š
        dfs(grid,i - 1,j);
        //ä¸‹
        dfs(grid,i + 1,j);
    }
    public static void main(String[] args) {
        char[][] grid = {{'1','1','1'},{'0','1','0'},{'1','1','1'}};
        System.out.println(numIslands(grid));
    }
}
//æ‰§è¡Œç”¨æ—¶åˆ†å¸ƒ
//3
//ms
//å‡»è´¥
//81.40%
//å¤æ‚åº¦åˆ†æ
//æ¶ˆè€—å†…å­˜åˆ†å¸ƒ
//48.40
//MB
//å‡»è´¥
//77.15%